webpackJsonp([0],{"1B8b":function(e,t,a){var o=a("G7Ez");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("169bff96",o,!0)},"1alW":function(e,t,a){var o=a("kM2E");o(o.S,"Number",{isInteger:a("AKgy")})},AKgy:function(e,t,a){var o=a("EqjI"),n=Math.floor;e.exports=function(e){return!o(e)&&isFinite(e)&&n(e)===e}},"BQj+":function(e,t,a){function o(e){a("hT18"),a("1B8b")}var n=a("VU/8")(a("bjCc"),a("IbFO"),o,"data-v-8324cfe2",null);e.exports=n.exports},"CQm+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Gm+R"),n=function(e){return e&&e.__esModule?e:{default:e}}(o),l=a("mYGX"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(l),s=(r.SYS_BASE_API.APPLYFORM.url,"http://172.17.1.211:20034"),i={listApprovalFlows:s+"/clf/trfbase/listApprovalFlows",listApprovalFlowDetails:s+"/clf/trfbase/listApprovalFlowDetails",listTitle:s+"/clf/trfbase/getTitle",titleOrDoctor:s+"/clf/trfbase/addTitleOrDoctor",approvalFlows:s+"/clf/trfbase/addApprovalFlows",selectDoctor:s+"/clf/trfbase/selectDoctor",updateApprovalFlows:s+"/clf/trfbase/updateApprovalFlows",deleteApprovalFlow:s+"/clf/trfbase/approvalFlowDelete",level:s+"/clf/trfbase/getLevel",deptInfos:s+"/clf/trfbase/listDeptInfos"};t.default={queryListApprovalFlows:function(e){return n.default.postJsonRequest(i.listApprovalFlows,e)},queryListApprovalFlowsDetails:function(e){return n.default.postJsonRequest(i.listApprovalFlowDetails,e)},queryListTitle:function(e){return n.default.postJsonRequest(i.listTitle,e)},addTitleOrDoctor:function(e){return n.default.postJsonRequest(i.titleOrDoctor,e)},addapprovalFlows:function(e){return n.default.postJsonRequest(i.approvalFlows,e)},querySelectDoctor:function(e){return n.default.postJsonRequest(i.selectDoctor,e)},updateApprovalFlows:function(e){return n.default.postJsonRequest(i.updateApprovalFlows,e)},deleteApprovalFlow:function(e){return n.default.postJsonRequest(i.deleteApprovalFlow,e)},level:function(e){return n.default.postJsonRequest(i.level,e)},queryListDeptInfos:function(e){return n.default.postJsonRequest(i.deptInfos,e)}}},G7Ez:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".home-page-wrap-us .w-tabs--border-card>.w-tabs__content,.home-page-wrap-us .w-tabs--dark>.w-tabs__content{padding:0!important}.left-model .w-input,.left-model .w-select{width:100%!important}.pd-right .w-select,.pd-right .w-select .w-input{width:160px!important}.pd-right .w-input{width:260px!important}.w-row{padding-bottom:16px}",""])},"Gm+R":function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),l=o(n),r=a("mvHQ"),s=o(r),i=a("g/04"),u=o(i),c=a("cCA+"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(c),f=a("UeB+"),p=o(f),h=a("7+uW"),v=o(h),w=a("NYxO"),g=o(w),m=a("mtWM");v.default.use(g.default);var b=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},L=void 0,_=!0;m.interceptors.request.use(function(e){if("options"==e.method)return e;if(e.useOptions&&1==e.useOptions.ForSmartClient)return e;e.headers.Authorization=authToken||jwt;var t=[],a=b("menuid");t.push(a);var o=window.rootVue.$route,n="";return o&&o.params&&o.params.menuid&&(n=o.params.menuid,t.push(n)),e.headers.menuid=t.join(","),L||(L=p.default.getClientInfo()),e.headers.ClientInfo=encodeURIComponent((0,s.default)(L)),e},function(e){return l.default.reject(e)}),m.interceptors.response.use(function(e){return e.status>=200&&e.status<=300?e:l.default.reject(e)},function(e){return l.default.reject(e)});var F=function(e,t){var a="";if(e&&e.response)switch(e.response.status){case 400:a="请求错误";break;case 401:a="未授权，请登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址出错: "+e.response.config.url;break;case 408:a="请求超时";break;case 500:a="服务器内部错误";break;case 501:a="服务未实现";break;case 502:a="网关错误";break;case 503:a="服务不可用";break;case 504:e.message="网关超时";break;case 505:a="HTTP版本不受支持"}e.message.indexOf("timeout of")>=0?a="请求服务已超时":"Network Error"==e.message&&(a="网络服务异常，请检查网路服务是否正常。"),t.isOnline||d.showMessage("请求服务异常，"+e.message+"："+a,d.messageType.ERROR)},O=function(e,t){var a="";if(e&&e.response)switch(e.response.status){case 400:a="请求错误";break;case 401:a="未授权，请登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址出错: "+e.response.config.url;break;case 408:a="请求超时";break;case 500:a="服务器内部错误";break;case 501:a="服务未实现";break;case 502:a="网关错误";break;case 503:a="服务不可用";break;case 504:e.message="网关超时";break;case 505:a="HTTP版本不受支持"}e.message.indexOf("timeout of")>=0?a="请求服务已超时":e.message,t=t||"",d.showMessage("请求"+t+"服务错误,请检查TechSvr是否启动："+e.message+">>"+a,d.messageType.ERROR)},E={post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&d.loadMask("正在请求服务..."),"string"==typeof e&&(e={url:e});var o=e.url,n=(e.desc,e.responseType||"json");return new l.default(function(e,l){m({url:o,method:"post",data:t,responseType:n,transformRequest:[function(e){var t=new FormData;if(e.constructor==FormData)return e;for(var a in e)e[a]instanceof Object?e[a].constructor==File?t.append(a,e[a]):t.append(a,(0,s.default)(e[a])):t.append(a,e[a]);return t}]}).then(function(t){var a=t.data;if(a.type==u.default.SUCCESS)e(t.data);else if(a.type==u.default.ERROR&&"SYS_ERR"==a.failtCode)d.showMessage(a.message,d.messageType.ERROR,{detailOption:a}),l(t.data);else{if("blob"===n)return void e(t);e(t.data)}E.toLogin(a)}).catch(function(e){F(e,t),l(e)}).finally(function(){a&&d.closeLoadMask()})})},postJsonRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&d.loadMask("正在请求服务..."),"string"==typeof e&&(e={url:e});var o=e.url;e.desc;return new l.default(function(e,n){m({url:o,method:"post",headers:{"Content-Type":"application/json;charSet=UTF-8"},data:t}).then(function(t){var a=t.data;a.type==u.default.SUCCESS?e(t.data):a.type==u.default.ERROR&&"SYS_ERR"==a.failtCode?d.showMessage(a.message,d.messageType.ERROR,{detailOption:a}):e(t.data),E.toLogin(a)}).catch(function(e){F(e,t),n(e)}).finally(function(){a&&d.closeLoadMask()})})},postForSmartClient:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e={url:e});var a=e.url,o=e.desc||"";return new l.default(function(e,n){m({url:a,method:"post",data:t,useOptions:{ForSmartClient:!0}}).then(function(t){var a=t.data;if(a.type==u.default.SUCCESS)e(t.data);else{if(a.type==u.default.ERROR)return d.showMessage("请求【"+o+"】错误："+a.message,d.messageType.ERROR),void n();e(t.data)}}).catch(function(e){O(e,"【智能客户端TechSvr】"),n(e)})})},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e={url:e});var a=e.url;e.desc;return new l.default(function(e,o){m({url:a,method:"get",params:t,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json;charset=UTF-8"}}).then(function(t){e(t.data),E.toLogin(t.data)}).catch(function(e){F(e,t),o(e)})})},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"string"==typeof e&&(e={url:e});var o=e.url+a;e.desc;return new l.default(function(e,a){m({url:o,method:"put",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){e(t.data),E.toLogin(t.data)}).catch(function(e){F(e,t),a(e)})})},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"string"==typeof e&&(e={url:e});var a=e.url+t;e.desc;return new l.default(function(e,t){m({url:a,method:"delete",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){e(t.data),E.toLogin(t.data)}).catch(function(e){F(e,params),t(e)})})},options:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&(e={url:e});var t=e.url;e.desc;return new l.default(function(e,a){m({url:t,method:"options"}).then(function(t){e(t)}).catch(function(e){a(e)})})},GetUrlQueryParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return a?unescape(a[2]):""},fileUtils:{uploadFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],o=arguments[3];o&&d.loadMask("正在请求服务..."),"string"==typeof e&&(e={url:e});var n=e.url;e.desc;return new l.default(function(e,l){m({url:n,method:"post",data:t,onUploadProgress:function(e){e.lengthComputable&&a(e)}}).then(function(t){var a=t.data;e(a.type==u.default.SUCCESS?t.data:a.type==u.default.ERROR?t.data:t.data),E.toLogin(a)}).catch(function(e){F(e,t),l(e)}).finally(function(){o&&d.closeLoadMask()})})}},toLogin:function(e){if("4040"==e.messageCode||"4041"==e.messageCode){if(!_)return!1;_=!1,d.alertMessage(e.message,"提示","warning",{showClose:!1}).then(function(){top.window.location.reload(),_=!0})}}};t.default=E},IbFO:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-page-wrap-us"},[a("w-row",{staticClass:"home-page-body "},[a("w-col",{attrs:{span:12}},[a("div",{staticClass:"pd-bottom_18",staticStyle:{height:"31px","line-height":"31px"}},[a("title-style",{staticClass:" po_re"},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("审核流程列表")])])],1),e._v(" "),a("w-table",{ref:"multipleTable",attrs:{data:e.tableLeftList,border:!0,"highlight-current-row":!0},on:{"row-click":e.handleRowR}},[a("w-table-column",{attrs:{prop:"FLOW_NAME",label:"审核名称",width:"100"}}),e._v(" "),a("w-table-column",{attrs:{prop:"FLOW_LEVEL",label:"审核等级",width:"100"}}),e._v(" "),a("w-table-column",{attrs:{label:"审核范围"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.FLOW_MIN)+" ~ "+e._s(t.row.FLOW_MAX)+"\n            ")]}}])}),e._v(" "),a("w-table-column",{attrs:{prop:"FLOW_DESC",label:"描述"}}),e._v(" "),a("w-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("w-button",{attrs:{type:"text"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),a("w-col",{attrs:{span:12}},[a("div",{staticClass:"mg-left_16"},[a("div",{staticClass:"po_re pd-bottom_18"},[a("w-tabs",{attrs:{type:"dark"},on:{"tab-click":e.handleClick},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("w-tab-pane",{attrs:{label:"对应职称",name:"first"}}),e._v(" "),a("w-tab-pane",{attrs:{label:"非对应职称医生",name:"second"}})],1),e._v(" "),a("w-button",{staticClass:"po_ab top_-5 right_0",attrs:{type:"text",plain:""},on:{click:function(t){e.handleAdd("right")}}},[e._v("+ 新增")])],1),e._v(" "),a("w-table",{staticClass:"mt-15 ",attrs:{data:e.tableDataRight,border:!0}},[a("w-table-column",{attrs:{type:"index",width:"50",align:"center",label:"序号"}}),e._v(" "),e._l(e.list,function(e,t){return a("w-table-column",{key:t,attrs:{prop:e.prop,label:e.label}})}),e._v(" "),a("w-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("w-button",{attrs:{type:"text"},on:{click:function(a){e.handleDelete(t.row,"title")}}},[e._v("删除")])]}}])})],2)],1)])],1),e._v(" "),a("w-modal",{attrs:{"close-on-click-modal":!1,showClose:!1,top:"10vh",title:e.title,visible:e.visible,width:"60%"},on:{"update:visible":function(t){e.visible=t}}},[a("w-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-align":"right","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},["新增审核流程"===e.title||"修改审核流程"===e.title?a("w-row",{staticClass:"left-model"},[a("w-row",[a("w-col",{attrs:{span:12}},[a("w-form-item",{attrs:{label:"审核名称",prop:"FLOW_NAME"}},[a("w-input",{attrs:{placeholder:"请输入审核名称",showCounter:""},model:{value:e.form.FLOW_NAME,callback:function(t){e.$set(e.form,"FLOW_NAME",t)},expression:"form.FLOW_NAME"}})],1)],1),e._v(" "),a("w-col",{attrs:{span:12}},[a("w-form-item",{attrs:{label:"审核等级",required:""}},[a("w-input",{attrs:{readonly:!0},model:{value:e.flowLevel,callback:function(t){e.flowLevel=t},expression:"flowLevel"}})],1)],1)],1),e._v(" "),a("w-row",[a("w-col",{attrs:{span:12}},[a("w-form-item",{attrs:{label:"最小量",required:""}},[a("w-input",{attrs:{readonly:!0},model:{value:e.form.FLOW_MIN,callback:function(t){e.$set(e.form,"FLOW_MIN",e._n(t))},expression:"form.FLOW_MIN"}})],1)],1),e._v(" "),a("w-col",{attrs:{span:12}},[a("w-form-item",{attrs:{label:"最大量",prop:"FLOW_MAX",required:""}},[a("w-input",{model:{value:e.form.FLOW_MAX,callback:function(t){e.$set(e.form,"FLOW_MAX",e._n(t))},expression:"form.FLOW_MAX"}})],1)],1)],1),e._v(" "),a("w-row",[a("w-col",[a("w-form-item",{attrs:{label:"描述"}},[a("w-input",{attrs:{placeholder:"请输入描述",type:"textarea",showCounter:""},model:{value:e.form.FLOW_DESC,callback:function(t){e.$set(e.form,"FLOW_DESC",t)},expression:"form.FLOW_DESC"}})],1)],1)],1)],1):a("div",{staticClass:" pd-right"},["新增职称"!==e.title?a("div",[a("span",[e._v("科室")]),e._v(" "),a("w-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"",loading:e.loading,"remote-method":e.remoteMethod,placeholder:"请输入编码/名称搜索"},on:{focus:e.handleFocusInput,change:e.handleChangeSelectVa},model:{value:e.applydepts,callback:function(t){e.applydepts=t},expression:"applydepts"}},e._l(e.openings,function(e,t){return a("w-option",{key:t,attrs:{label:e.DEPTNAME,value:{deptcode:e.DEPTCODE,value:e.DEPTCODE}}})})),e._v(" "),a("w-input",{attrs:{placeholder:"医生姓名/工号",sufAppendIsButton:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleChangeSearchInputVa(e.value2)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},[a("template",{slot:"suf-append"},[a("i",{staticClass:"w-icon-search"})])],2)],1):e._e(),e._v(" "),a("w-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multiTable",staticClass:"mg-top_16",staticStyle:{width:"100%"},attrs:{data:e.tableDataModal,height:"500px",border:!0},on:{"selection-change":e.handleSelectionChange}},[a("w-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),e._l(e.listModal,function(e,t){return a("w-table-column",{key:t,attrs:{prop:e.prop,label:e.label}})}),e._v(" "),"新增医生"===e.title?a("w-table-column",{attrs:{prop:"type",label:"科室"}}):e._e()],2)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("w-button",{on:{click:function(t){e.reset("form")}}},[e._v("取 消")]),e._v(" "),a("w-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},"RRo+":function(e,t,a){e.exports={default:a("c45H"),__esModule:!0}},"W/Oe":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".home-page-wrap-us .home-page-body[data-v-8324cfe2]{background:#fff;border-radius:2px}",""])},bjCc:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),l=o(n),r=a("Xxa5"),s=o(r),i=a("exGp"),u=o(i),c=a("RRo+"),d=o(c),f=a("CQm+"),p=o(f);t.default={data:function(){var e=this;return{visible:!1,loading:!0,modalTitle:"123",activeName2:"first",operationVal:1,numVal:1,title:" ",value:"",value2:"",region:"",rowLeftVal:"",tagVal:"title",applydepts:"",flowLevel:"",flowLevelName:"",changSelectVa:"",addEaditVale:"",flowMaxOrMin:"",flowMin:"",selection:[],tableLeftList:[],tableDataRight:[],tableDataModal:[],listModal:[],openings:[],flowLevelList:[{value:"1",label:"一级审核"},{value:"2",label:"二级审核"},{value:"3",label:"三级审核"}],list:[{prop:"PROFESSIONAL_CODE",label:"职称代码"},{prop:"PROFESSIONAL_NAME",label:"职称名称"}],corresponding:[{prop:"PROFESSIONAL_CODE",label:"职称代码"},{prop:"PROFESSIONAL_NAME",label:"职称名称"}],noCorresponding:[{prop:"name",label:"医生姓名"},{prop:"code",label:"医生工号"}],addCorresponding:[{prop:"code",label:"职称代码"},{prop:"name",label:"职称名称"}],form:{FLOW_NAME:"",FLOW_LEVEL:"",FLOW_MIN:"0",FLOW_MAX:"",FLOW_DESC:""},rules:{FLOW_NAME:[{required:!0,message:"请输入审核名称",trigger:"change"}],FLOW_LEVEL:[{required:!0,message:"请选择审核等级",trigger:"change"}],FLOW_MIN:[{}],FLOW_MAX:[{validator:function(t,a,o){if(!a)return o(new Error("最大量不能为空"));(0,d.default)(a)?(console.log("this.form.FLOW_MAX",e.flowMaxOrMin),a>e.flowMaxOrMin&&o(new Error("最大量数值需比下一级最小数值("+e.flowMaxOrMin+")小")),a<e.form.FLOW_MIN?o(new Error("最大量数值需比最小数值大")):o()):o(new Error("请输入数字值"))},trigger:"blur"}]},options:[{value:"选项1",label:"安徽"},{value:"选项2",label:"上海"},{value:"选项3",label:"北京"},{value:"选项4",label:"南京"},{value:"选项5",label:"深圳"}]}},computed:{},watch:{tableLeftList:function(){var e=this;this.$nextTick(function(){e.$refs.multipleTable.setCurrentRow(e.tableLeftList[0])})}},created:function(){this.getListApprovalFlows()},mounted:function(){},methods:{getListApprovalFlows:function(){var e=this;return(0,u.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.default.queryListApprovalFlows();case 2:a=t.sent,e.tableLeftList=a.data,"SUCCESS"===a.type&&e.getListApprovalFlowsDetails();case 5:case"end":return t.stop()}},t,e)}))()},getListApprovalFlowsDetails:function(e){var t=this;return(0,u.default)(s.default.mark(function a(){var o;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("ttttt",e,t.tagVal),t.isName(),a.next=4,p.default.queryListApprovalFlowsDetails({tag:t.tagVal,FLOW_NAME:t.flowLevelName});case 4:o=a.sent,t.tableDataRight=o.data;case 6:case"end":return a.stop()}},a,t)}))()},getAddListTitle:function(){var e=this;return(0,u.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isName(),t.next=3,p.default.queryListTitle({FLOW_NAME:e.flowLevelName});case 3:a=t.sent,e.loading=!1,e.tableDataModal=a.data;case 6:case"end":return t.stop()}},t,e)}))()},getAddTitleOrDoctor:function(){var e=this;return(0,u.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isName(),t.next=3,p.default.addTitleOrDoctor({tag:e.tagVal,FLOW_NAME:e.flowLevelName,content:e.selection});case 3:a=t.sent,"SUCCESS"===a.type?(e.showMsg("新增职称成功","success"),e.getListApprovalFlows(),e.visible=!1):e.showMsg(a.message,"error");case 5:case"end":return t.stop()}},t,e)}))()},getQuerySelectDoctor:function(e){var t=this;return(0,u.default)(s.default.mark(function a(){var o;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),t.loading=!0,t.isName(),a.next=5,p.default.querySelectDoctor({FLOW_NAME:t.flowLevelName,department:t.changSelectVa||"",input:e});case 5:o=a.sent,t.loading=!1,t.tableDataModal=o.data,console.log(t.listModal,"this.tableDataModal",t.tableDataModal);case 9:case"end":return a.stop()}},a,t)}))()},getQueryDeptInfos:function(e){var t=this;return(0,u.default)(s.default.mark(function a(){var o;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,p.default.queryListDeptInfos({depttype:"",search:e});case 3:o=a.sent,t.loading=!1,t.openings=o.data;case 6:case"end":return a.stop()}},a,t)}))()},getLevel:function(e){var t=this;return(0,u.default)(s.default.mark(function a(){var o;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("title",e),a.next=3,p.default.level({FLOW_LEVEL:e.FLOW_LEVEL});case 3:o=a.sent,t.flowMaxOrMin=o.data[1].FLOW_MAX;case 5:case"end":return a.stop()}},a,t)}))()},getDeleteApprovalFlow:function(e,t){var a=this;return(0,u.default)(s.default.mark(function o(){var n,l,r,i,u;return s.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:console.log(e,t),n="",l="",r="",i="",console.log("this.addEaditVale",a.addEaditVale),a.isName(),i=a.flowLevelName,o.t0=a.activeName2,o.next="second"===o.t0?11:14;break;case 11:return n="doctor",l=e.code,r=e.name,o.abrupt("break",16);case 14:return n="title",l=e.PROFESSIONAL_CODE,r=e.PROFESSIONAL_NAME,o.abrupt("break",16);case 16:return o.next=18,p.default.deleteApprovalFlow({FLOW_NAME:i,tag:n,code:l,name:r});case 18:u=o.sent,"SUCCESS"===u.type?(a.showMsg("删除成功","success"),a.getListApprovalFlowsDetails()):a.showMsg(u.message,"error"),console.log("rea",u);case 21:case"end":return o.stop()}},o,a)}))()},getUpdateApprovalFlows:function(){var e=this;return(0,u.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.default.updateApprovalFlows((0,l.default)({},e.form,{FLOW_MAX:e.form.FLOW_MAX.toString()}));case 2:a=t.sent,"SUCCESS"===a.type?(e.showMsg("修改成功","success"),e.getListApprovalFlows(),e.visible=!1):e.showMsg(a.message,"error"),console.log("rea",a);case 5:case"end":return t.stop()}},t,e)}))()},isName:function(e){void 0===this.rowLeftVal.FLOW_NAME?this.flowLevelName=this.tableLeftList[0].FLOW_NAME||"":(this.flowLevelName=this.rowLeftVal.FLOW_NAME,"tag"===e&&(console.log("78965"),this.tagVal=""))},remoteMethod:function(e){this.getQueryDeptInfos(e)},handleChangeSearchInputVa:function(e){this.getQuerySelectDoctor(e)},handleFocusInput:function(){this.remoteMethod()},handleChangeSelectVa:function(e){this.changSelectVa=e.deptcode,this.getQuerySelectDoctor(""),console.log("val",e)},submit:function(){var e=this;console.log("this.activeName2",this.activeName2),this.$refs.form.validateForm(function(){var t=(0,u.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}t.t0=e.addEaditVale,t.next="first"===t.t0?4:"second"===t.t0?6:"edit"===t.t0?8:10;break;case 4:case 6:return e.getAddTitleOrDoctor(),t.abrupt("break",11);case 8:return e.getUpdateApprovalFlows(),t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())},handleAdd:function(e){this.visible=!0,"first"===this.activeName2?(this.title="新增职称",this.listModal=this.addCorresponding,this.addEaditVale="first",console.log("tableDataModal",this.tableDataRight),this.getAddListTitle()):(this.addEaditVale="second",this.listModal=this.noCorresponding,this.title="新增医生",this.getQuerySelectDoctor(""))},handleEdit:function(e){switch(e.FLOW_LEVEL){case"1":this.flowLevel="一级审核",this.form.FLOW_LEVEL="1";break;case"2":this.flowLevel="二级审核",this.form.FLOW_LEVEL="2";break;case"3":this.flowLevel="三级审核",this.form.FLOW_LEVEL="3"}this.form=(0,l.default)({},e),this.getLevel(e),console.log("edit",e),this.title="修改审核流程",this.visible=!0,this.addEaditVale="edit"},handleClick:function(e){this.activeName2=e.name,console.log(e.name,"this.tagVal",this.tagVal),"first"===e.name?(this.list=this.corresponding,this.tagVal="title",this.getListApprovalFlowsDetails("title"),this.title="新增职称"):(this.tagVal="doctor",this.list=this.noCorresponding,this.getListApprovalFlowsDetails("doctor"),this.title="新增医生"),console.log("this.list",this.list)},handleRowR:function(e){this.rowLeftVal=e,"first"===this.activeName2?this.tagVal="title":this.tagVal="doctor",this.getListApprovalFlowsDetails("title")},handleDelete:function(e,t){console.log("row,t",e,t),this.getDeleteApprovalFlow(e,t)},handleSelectionChange:function(e){console.log("this.selection = val",this.selection,e),this.selection=e},reset:function(e){this.$refs[e].resetFields(),this.visible=!1}}}},c45H:function(e,t,a){a("1alW"),e.exports=a("FeBl").Number.isInteger},"g/04":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ERROR:"ERROR",FAILT:"FAILT",NORMAL:"NORMAL",SUCCESS:"SUCCESS"};t.default=o},hT18:function(e,t,a){var o=a("W/Oe");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("249124bc",o,!0)}});